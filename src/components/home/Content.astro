---
import SocialTop from "./SocialTop.astro";
import SocialBottom from "./SocialBottom.astro";
import Name from "./Name.astro";
import ToolingMarquee from "./ToolingMarquee.astro";
import { LucideMail, Github, Linkedin, FileUser, Youtube } from "@lucide/astro";
import { RiDiscordLine } from "react-icons/ri";
---

<div class="w-full">
  <div class="mb-10 flex gap-5 md:gap-2">
    <div class="mb-4 aspect-square w-75 rounded-sm">
      <img id="avatar" src="/me.svg" alt="Me" class="select-none" />
    </div>
    <script is:inline>
      (function () {
        const savedTheme = localStorage.getItem("theme");
        const isDark = savedTheme === "dark";
        const avatar = document.getElementById("avatar");
        if (avatar) {
          avatar.src = isDark ? "/me_light.svg" : "/me.svg";
        }
      })();
    </script>
    <script>
      const avatar = document.getElementById("avatar") as HTMLImageElement;
      const updateAvatar = () => {
        if (avatar) {
          avatar.src = document.documentElement.classList.contains("dark")
            ? "/me_light.svg"
            : "/me.svg";
        }
      };
      window.addEventListener("themechange", updateAvatar);
    </script>

    <div class="flex w-full flex-col">
      <div class="text-end">
        <div class="flex items-center justify-end gap-2">
          <span class="block md:hidden"><Name /></span>
          <h1 class="text-xl font-semibold">niko komninos</h1>
          <span class="hidden md:block"><Name /></span>
        </div>
        <h2>full-stack developer &#9702; graduate student @ adelphi</h2>
        <h2>graduate assistant @ adelphi</h2>
        <h2>
          new york &#9702; <span id="time-hours">--</span>:<span id="time-minutes">--</span> <span id="time-ampm"></span>
        </h2>
        <script is:inline>
          (function () {
            const hoursEl = document.getElementById("time-hours");
            const minutesEl = document.getElementById("time-minutes");
            const ampmEl = document.getElementById("time-ampm");
            function updateTime() {
              if (hoursEl && minutesEl && ampmEl) {
                const now = new Date();
                const timeString = now.toLocaleTimeString("en-US", {
                  timeZone: "America/New_York",
                  hour: "2-digit",
                  minute: "2-digit",
                  hour12: true,
                });
                const [time, ampm] = timeString.split(" ");
                const [hours, minutes] = time.split(":");
                hoursEl.textContent = hours;
                minutesEl.textContent = minutes;
                ampmEl.textContent = ampm;
              }
            }
            updateTime();
            setInterval(updateTime, 1000);
          })();
        </script>
      </div>

      <div class="mt-auto flex flex-col gap-2">
        <div class="flex items-end justify-end gap-2">
          <SocialTop
            href="mailto:nk@nikokomninos.com"
            uname="nk@nikokomninos.com"
            icon={LucideMail}
            iconProps={{ size: 13 }}>email</SocialTop
          >
          <SocialTop
            href="/resume.pdf"
            uname="click me!"
            icon={FileUser}
            iconProps={{ size: 13 }}>resume</SocialTop
          >
          <SocialTop
            href="https://www.linkedin.com/in/nikokomninos/"
            uname="@nikokomninos"
            icon={Linkedin}
            iconProps={{ size: 13 }}>linkedin</SocialTop
          >
        </div>
        <div class="mb-4 flex items-end justify-end gap-2">
          <SocialBottom
            href="https://www.github.com/nikokomninos"
            uname="@nikokomninos"
            icon={Github}
            iconProps={{ size: 13 }}>github</SocialBottom
          >
          <SocialBottom
            href="https://www.youtube.com/@nikokomninos"
            uname="@nikokomninos"
            icon={Youtube}
            iconProps={{ size: 13 }}>youtube</SocialBottom
          >
          <SocialBottom
            href="https://discord.com/users/193909794258550786"
            uname="@nikokomninos"
            icon={RiDiscordLine}
            iconProps={{ size: 15 }}>discord</SocialBottom
          >
        </div>
      </div>
    </div>
  </div>
  <div class="mb-6">
    <h2 class="mb-3 text-xl font-semibold">bio</h2>
    <p class="mb-5">
      <strong>niko komninos</strong> is a full-stack developer based in <strong
        >long island, new york</strong
      >, and a current graduate student attending adelphi university. he's
      focused on building platforms and software that foster a sense of
      community. some of the tooling he is familiar with can be found below:
    </p>
    <div class="mb-5 flex justify-center">
      <ToolingMarquee />
    </div>
    <p class="mb-5">
      niko's current occupation is the role of <strong
        >graduate assistant</strong
      > at adelphi university, where he assists in teaching and grading introductory
      level computer science courses.
    </p>
    <p class="mb-5">
      outside of school and work, niko is currently working on <strong>dotconfig</strong>,
      a social platform tailored specifically towards developers. after trying
      out many of the prominent platforms that developers use for general
      discussion, sharing projects and sharing configuration files, he found
      that they weren't optimal for any of those tasks. he wants to build the
      social platform that developers deserve! the rest of his projects can be
      found <a href="/projects" class="animate-gradient font-semibold">here</a>.
    </p>
    <p class="mb-5">
      outside of programming, niko enjoys listening to metal. his favorite band
      is <strong>tool</strong>; you can see more of his taste on his <a
        href="https://www.last.fm/user/nikokomninos"
        target="_blank"
        class="animate-gradient font-semibold">lastfm</a
      >! he also loves all cardio related activities; you can catch him on a run
      in just about any type of weather.
    </p>
    <p class="text-md font-semibold">enjoy your stay!</p>
  </div>
</div>
